<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Random Domain Redirect</title>
<script>
window.onload = function() {
    // 远程的txt文件URL
    const txtFileUrl = 'https://us.guide.edu.eu.org/yuminglieibao/ym.txt';
    // 默认跳转地址
    const defaultUrl = 'http://www.dankeshipin.com';

    // 函数用于创建JSONP请求
    function fetchDomains() {
        const script = document.createElement('script');
        script.src = txtFileUrl + '?callback=handleResponse';
        document.body.appendChild(script);
    }

function handleResponse(data) {
    console.log('Received domain data:', data);

    // 在这里检查 data 的内容是否符合预期的格式和结构

    if (Array.isArray(data) && data.length > 0) {
        const randomIndex = Math.floor(Math.random() * data.length);
        const randomDomain = data[randomIndex];

        // 执行跳转到随机选择的域名
        window.location.href = 'http://' + randomDomain;
    } else {
        console.error('Invalid domain data received:', data);
        // 如果数据无效或为空，跳转到默认地址
        window.location.href = defaultUrl;
    }
}


    // 在页面加载时触发JSONP请求
    fetchDomains();
};
</script>
</head>
<body>
</body>
</html>
